!function(t){function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}var e={};n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="",n(n.s=0)}([function(t,n,e){var i=e(1),r=function(t){return new i(t)};r.install=function(t){t.implement({rwatch:function(){return r(this)}})},window.rwatch=r,t.exports=r},function(t,n,e){function i(t){this.context=t,this.depTree={},this.nodesMap={},this.root=null,this.currentConnector=0,this.connectorName="_medium_"}var r=e(2),o=r.findInTree,a=r.throttle,l=(r.typeOf,e(3)),s=e(5),p=e(6);i.prototype.judgeMapType=function(t,n,e,i,r){t instanceof Array&&"string"==typeof n?this.multiToSingle(t,n,e,i,r):n instanceof Array&&"string"==typeof t?this.singleToMulti(t,n,e,i,r):"string"==typeof t&&"string"==typeof n&&this.singleToSingle(t,n,e,i,r)},i.prototype.wrapAsync=function(t,n,e,i,r){var o=function(t){i.$update(n,t)};r.call(i,t,e,o)},i.prototype.singleToSingle=function(t,n,e,i,r){var o=this.context,l=this;this.recordNodesMap({source:t,target:n}),o.$watch(t,a(function(t,a){var s=o.$get(n);if(i)l.wrapAsync(t,n,s,o,e);else{var p=e.call(o,t,s);o.$update(n,p),r.tapable.applyPluginsWaterfall("then",p,{newValue:t,oldValue:a})}}))},i.prototype.multiToSingle=function(t,n,e,i,r){var o=this.context,l=this,s=this.currentConnector++,p=this.connectorName+s,u=t.map(function(t){l.buildDep(t,n),l.recordNodesMap({source:t,target:p+""});var e=o.$get(t),i={};return"object"!=typeof e&&l.addPrimitiveWatcher(t,i),Object.assign(i,{name:t,value:e})});l.recordNodesMap({source:p,target:n}),setTimeout(function(){l.attrsFilter(u).forEach(function(t){var s=u[t.index];o.$watch(s.name,a(function(t,a){s.value=t;var p=u.map(function(t){return t.value}),c=o.$get(n);if(i)l.wrapAsync(p,target,c,o,e);else{var h=e.call(o,p,c);o.$update(n,h),r.tapable.applyPluginsWaterfall("then",h,{newValue:t,oldValue:a})}}))})},0)},i.prototype.singleToMulti=function(t,n,e,i,r){var o=this.context,l=this;n.forEach(function(n){l.buildDep(t,n),l.recordNodesMap({source:t,target:n})}),o.$watch(t,a(function(t,a){var s=[];n.forEach(function(n,r){var a=o.$get(n);if(i)l.wrapAsync(t,n,a,o,e[r]);else{var p;p=e instanceof Function?e.call(o,t,a):e[r].call(o,t,a),o.$update(n,p),s.push(p)}}),r.tapable.applyPluginsWaterfall("then",s,{newValue:t,oldValue:a})}))},i.prototype.addPrimitiveWatcher=function(t,n){this.context.$watch(t,function(t){n.value=t})},i.prototype.watch=function(t,n,e){if(t.length){var i=new l;return this.judgeMapType(t,n,e,!1,i),i}},i.prototype.asyncWatch=function(t,n,e){t.length&&this.judgeMapType(t,n,e,!0)},i.prototype.buildDep=function(t,n){var e=this.depTree,i=o(e,t,[]);i?i[n]={}:(e[t]={},e[t][n]={})},i.prototype.attrsFilter=function(t){for(var n=this.depTree,e={},i=t.length-1;i>=0;i--)for(var r=t[i].name,a=i-1;a>=0;a--){var l=t[a].name,s=o(n,r,null,!0),p=o(s,l,null,!0);p?e[r]=!0:(s=o(n,l,null,!0),(p=o(s,r,null,!0))&&(e[l]=!0))}return t.filter(function(t,n){return t.index=n,!e[t.name]})},i.prototype.recordNodesMap=function(t){var t=t||{},n=this.nodesMap,e=t.source,i=t.target,r=n[e],o=n[i];o||(o=n[i]=new s({attrName:i})),r||(r=n[e]=new s({attrName:e})),r.setTarget(o),o.setSource(r)},i.prototype.displayRelationGraph=function(t){var n=r.findMapRoots(this.nodesMap),t=t||{},e=t.container,i=t.containerWraper;new p({roots:n,container:e,containerWraper:i}).build()},t.exports=i},function(t,n){var e={},i=Object.prototype.toString;e.throttle=function(t){var n;return function(){var e=arguments;n&&clearTimeout(n),n=setTimeout(function(){e=[].slice.call(e,0),t.apply(this,e)},0)}},e.resolvePath=function(t,n,e){var i=t.split(".");if("set"===e){var r=i[i.length-1];i=i.slice(0,-1)}var o=function(t,n,e){return e===i.length?n:o(i[e+1],n[t],e+1)};return"set"===e?{name:r,value:o(i[0],n,0)}:o(i[0],n,0)},e.findInTree=function(t,n,i){if(t[n])return t[n];for(var r in t){var o=e.findInTree(t[r],n,i);if(o)return o}},e.typeOf=function(t){return"object"!=typeof t?typeof t:i.call(t).slice(8,-1)},e.findMapRoots=function(t){var n=[];for(var e in t){var i=t[e];0===i.sources.length&&n.push(i)}return n},t.exports=e},function(t,n,e){function i(){this.tapable=new r}var r=e(4);i.prototype.then=function(t){this.tapable.plugin("then",t)},t.exports=i},function(t,n){function e(t){"use strict";if(void 0===this||null===this)throw new TypeError;var n=Object(this),e=n.length>>>0;if("function"!=typeof t)throw new TypeError;for(var i=[],r=arguments.length>=2?arguments[1]:void 0,o=0;o<e;o++)if(o in n){var a=n[o];t.call(r,a,o,n)&&i.push(a)}return i}function i(){this._plugins={}}function r(t,n){for(var e in t)n[e]=t[e];return n}t.exports=i,i.mixin=function(t){r(i.prototype,t)},i.prototype.applyPlugins=function(t){if(this._plugins[t])for(var n=Array.prototype.slice.call(arguments,1),e=this._plugins[t],i=0;i<e.length;i++)e[i].apply(this,n)},i.prototype.applyPlugins0=function(t){var n=this._plugins[t];if(n)for(var e=0;e<n.length;e++)n[e].call(this)},i.prototype.applyPlugins1=function(t,n){var e=this._plugins[t];if(e)for(var i=0;i<e.length;i++)e[i].call(this,n)},i.prototype.applyPlugins2=function(t,n,e){var i=this._plugins[t];if(i)for(var r=0;r<i.length;r++)i[r].call(this,n,e)},i.prototype.applyPluginsWaterfall=function(t,n){if(!this._plugins[t])return n;for(var e=Array.prototype.slice.call(arguments,1),i=this._plugins[t],r=n,o=0;o<i.length;o++)e[0]=r,r=i[o].apply(this,e);return r},i.prototype.applyPluginsWaterfall0=function(t,n){var e=this._plugins[t];if(!e)return n;for(var i=n,r=0;r<e.length;r++)i=e[r].call(this,i);return i},i.prototype.applyPluginsWaterfall1=function(t,n,e){var i=this._plugins[t];if(!i)return n;for(var r=n,o=0;o<i.length;o++)r=i[o].call(this,r,e);return r},i.prototype.applyPluginsWaterfall2=function(t,n,e,i){var r=this._plugins[t];if(!r)return n;for(var o=n,a=0;a<r.length;a++)o=r[a].call(this,o,e,i);return o},i.prototype.applyPluginsBailResult=function(t){if(this._plugins[t])for(var n=Array.prototype.slice.call(arguments,1),e=this._plugins[t],i=0;i<e.length;i++){var r=e[i].apply(this,n);if(void 0!==r)return r}},i.prototype.applyPluginsBailResult1=function(t,n){if(this._plugins[t])for(var e=this._plugins[t],i=0;i<e.length;i++){var r=e[i].call(this,n);if(void 0!==r)return r}},i.prototype.applyPluginsBailResult2=function(t,n,e){if(this._plugins[t])for(var i=this._plugins[t],r=0;r<i.length;r++){var o=i[r].call(this,n,e);if(void 0!==o)return o}},i.prototype.applyPluginsBailResult3=function(t,n,e,i){if(this._plugins[t])for(var r=this._plugins[t],o=0;o<r.length;o++){var a=r[o].call(this,n,e,i);if(void 0!==a)return a}},i.prototype.applyPluginsBailResult4=function(t,n,e,i,r){if(this._plugins[t])for(var o=this._plugins[t],a=0;a<o.length;a++){var l=o[a].call(this,n,e,i,r);if(void 0!==l)return l}},i.prototype.applyPluginsBailResult5=function(t,n,e,i,r,o){if(this._plugins[t])for(var a=this._plugins[t],l=0;l<a.length;l++){var s=a[l].call(this,n,e,i,r,o);if(void 0!==s)return s}},i.prototype.applyPluginsAsyncSeries=i.prototype.applyPluginsAsync=function(t){var n=Array.prototype.slice.call(arguments,1),e=n.pop(),i=this._plugins[t];if(!i||0===i.length)return e();var o=0,a=this;n.push(r(e,function(t){return t?e(t):++o>=i.length?e():void i[o].apply(a,n)})),i[0].apply(this,n)},i.prototype.applyPluginsAsyncSeries1=function(t,n,e){var i=this._plugins[t];if(!i||0===i.length)return e();var o=0,a=this,l=r(e,function(t){return t?e(t):++o>=i.length?e():void i[o].call(a,n,l)});i[0].call(this,n,l)},i.prototype.applyPluginsAsyncSeriesBailResult=function(t){var n=Array.prototype.slice.call(arguments,1),e=n.pop();if(!this._plugins[t]||0===this._plugins[t].length)return e();var i=this._plugins[t],o=0,a=this;n.push(r(e,function(){return arguments.length>0?e.apply(null,arguments):++o>=i.length?e():void i[o].apply(a,n)})),i[0].apply(this,n)},i.prototype.applyPluginsAsyncSeriesBailResult1=function(t,n,e){var i=this._plugins[t];if(!i||0===i.length)return e();var o=0,a=this,l=r(e,function(t,r){return arguments.length>0?e(t,r):++o>=i.length?e():void i[o].call(a,n,l)});i[0].call(this,n,l)},i.prototype.applyPluginsAsyncWaterfall=function(t,n,e){if(!this._plugins[t]||0===this._plugins[t].length)return e(null,n);var i=this._plugins[t],o=0,a=this,l=r(e,function(t,n){return t?e(t):++o>=i.length?e(null,n):void i[o].call(a,n,l)});i[0].call(this,n,l)},i.prototype.applyPluginsParallel=function(t){var n=Array.prototype.slice.call(arguments,1),e=n.pop();if(!this._plugins[t]||0===this._plugins[t].length)return e();var i=this._plugins[t],o=i.length;n.push(r(e,function(t){if(!(o<0))return t?(o=-1,e(t)):(o--,0===o?e():void 0)}));for(var a=0;a<i.length;a++)if(i[a].apply(this,n),o<0)return},i.prototype.applyPluginsParallelBailResult=function(t){var n=Array.prototype.slice.call(arguments,1),i=n[n.length-1];if(!this._plugins[t]||0===this._plugins[t].length)return i();for(var o,a=this._plugins[t],l=a.length,s=[],p=0;p<a.length;p++)n[n.length-1]=function(t){return r(i,function(){t>=l||(s.push(t),arguments.length>0&&(l=t+1,s=e.call(s,function(n){return n<=t}),o=Array.prototype.slice.call(arguments)),s.length===l&&(i.apply(null,o),l=0))})}(p),a[p].apply(this,n)},i.prototype.applyPluginsParallelBailResult1=function(t,n,i){var o=this._plugins[t];if(!o||0===o.length)return i();for(var a,l=o.length,s=[],p=0;p<o.length;p++){var u=function(t){return r(i,function(){t>=l||(s.push(t),arguments.length>0&&(l=t+1,s=e.call(s,function(n){return n<=t}),a=Array.prototype.slice.call(arguments)),s.length===l&&(i.apply(null,a),l=0))})}(p);o[p].call(this,n,u)}},i.prototype.hasPlugins=function(t){var n=this._plugins[t];return n&&n.length>0},i.prototype.plugin=function(t,n){if(Array.isArray(t))return void t.forEach(function(t){this.plugin(t,n)},this);this._plugins[t]?this._plugins[t].push(n):this._plugins[t]=[n]},i.prototype.apply=function(){for(var t=0;t<arguments.length;t++)arguments[t].apply(this)}},function(t,n){function e(t){this.option=t||{},this.targets=[],this.sources=[],t.target&&this.targets.push(t.target),t.source&&this.sources.push(t.source),this.attrName=t.attrName}e.prototype.setTarget=function(t){t&&-1===this.targets.indexOf(t)&&this.targets.push(t)},e.prototype.setSource=function(t){t&&-1===this.sources.indexOf(t)&&this.sources.push(t)},e.prototype.getAttrName=function(){return this.attrName},e.prototype.getTargets=function(){return this.targets},t.exports=e},function(t,n){function e(t){this.roots=t.roots,this.symbolSize=t.symbolSize||60,this.symbolGap=t.symbolGap||10,this.formatedData={data:[],links:[]},this.pointsIndexer={},this.chartOption={},this.container=t.container||document.createElement("div"),this.containerWraper=t.containerWraper||document.getElementsByTagName("body")[0],this.chartTitle=t.chartTitle||""}e.prototype.build=function(){this._formatData(),this._configChartOptions(),this._createLayout()},e.prototype._createPoint=function(t){var n=t.attrName,e=this.pointsIndexer,i=this.formatedData.data,r=e[n];return r||(e[n]=!0,i.push({name:n,value:n,x:t.x,y:t.y})),r},e.prototype._existPoint=function(t){return this.pointsIndexer[t]},e.prototype._createLink=function(t){var n=this.formatedData.links,e=t.sourceAttrName,i=t.targetAttrName;n.push({source:e,target:i})},e.prototype._formatData=function(){var t=this.roots,n=this,e=this.symbolSize,i=this.symbolGap,r=e+i,o=r,a=r,l=t.map(function(t,n){return 0}),s=function(t,e){var i=t.root,p=i.getTargets();if(0!==p.length){var u=i,c=u.getAttrName();parentX=t.coordinate.x,parentY=t.coordinate.y,n._createPoint({attrName:c,x:parentX,y:parentY}),p.forEach(function(i,p){var u=i.getAttrName(),h=t.coordinate.x+o,f=p*a+t.coordinate.y;l[e]<f&&(l[e]=f),n._createPoint({attrName:u,x:h,y:f})&&(t.coordinate.y-=r),n._createLink({sourceAttrName:c,targetAttrName:u}),s({root:i,coordinate:{x:h,y:f}},e)})}};t.forEach(function(t,n){var e=0;0!==n&&(e=l[n?n-1:0]+a),s({root:t,coordinate:{x:0,y:e}},n)}),this.maxY=l[l.length-1]},e.prototype._configChartOptions=function(){var t=this.chartOption,n=this.formatedData.data,e=this.formatedData.links,i=this.symbolSize,r=this.chartTitle;Object.assign(t,{title:{text:r},left:0,tooltip:{},toolbox:{feature:{saveAsImage:{name:"关系图",pixelRatio:2}},left:"left"},animationDurationUpdate:1500,animationEasingUpdate:"quinticInOut",series:[{type:"graph",layout:"none",symbolSize:i,roam:!0,label:{normal:{show:!0}},edgeSymbol:["circle","arrow"],edgeSymbolSize:[4,10],edgeLabel:{normal:{textStyle:{fontSize:20}}},data:n,links:e,lineStyle:{normal:{width:3,curveness:-.3}}}]})},e.prototype._createLayout=function(){var t=this.containerWraper,n=document.createElement("div"),e=document.createElement("a"),i=document.createElement("div"),r=this.container,o=this.chartOption,a=this.maxY,l=a/window.innerHeight;Object.assign(e.style,{position:"absolute",right:0,top:0,margin:"10px",color:"white"}),e.innerHTML="关闭",e.onclick=function(){r.style.display="none"},Object.assign(r.style,{position:"fixed",width:"100%",height:"100%",backgroundColor:"black",opacity:.8,top:0,left:0,display:"none",overflow:"auto",zIndex:"9999999999"}),Object.assign(n.style,{width:"100%",height:100*l*2+"%"});var s=document.createElement("script");s.src="https://cdn.bootcss.com/echarts/3.8.5/echarts.min.js",s.onload=function(){r.style.display="block",window.echarts.init(n).setOption(o),r.style.display="none"},Object.assign(i.style,{position:"fixed",bottom:0,right:0,margin:"30px",width:"50px",height:"50px",borderRadius:"50%",lineHeight:"50px",textAlign:"center",cursor:"pointer",backgroundColor:"#ddd"}),i.innerHTML="关系图",i.onclick=function(){r.style.display="block"},t.appendChild(s),t.appendChild(r),t.appendChild(i),r.appendChild(n),r.appendChild(e)},t.exports=e}]);